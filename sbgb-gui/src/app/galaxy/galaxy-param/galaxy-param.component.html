<h2>Générateur de Galaxies</h2>

<form [formGroup]="galaxyForm">
  <mat-accordion multi>

    <!-- 1. BASIC INFORMATION -->
    <mat-expansion-panel [expanded]="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          <mat-icon>info</mat-icon>
          &nbsp; Informations de base
        </mat-panel-title>
      </mat-expansion-panel-header>

      <!-- Name -->
      <mat-form-field style="width: 100%; margin-bottom: 16px;">
        <mat-label>Nom de la galaxie</mat-label>
        <input matInput type="text" formControlName="name">
        <mat-icon matSuffix matTooltip="Nom pour identifier cette galaxie">help_outline</mat-icon>
      </mat-form-field>

      <!-- Galaxy Type -->
      <mat-form-field style="width: 100%; margin-bottom: 16px;">
        <mat-label>Type de galaxie</mat-label>
        <mat-select formControlName="galaxyType" (selectionChange)="onGalaxyTypeChange()">
          <mat-option value="SPIRAL">Spirale</mat-option>
          <mat-option value="VORONOI_CLUSTER">Amas Voronoi</mat-option>
          <mat-option value="ELLIPTICAL">Elliptique</mat-option>
          <mat-option value="RING">Anneau</mat-option>
          <mat-option value="IRREGULAR">Irrégulière</mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Image Dimensions -->
      <div style="display: flex; gap: 10px; flex-wrap: wrap;">
        <mat-form-field style="flex: 1; min-width: 150px;">
          <mat-label>Largeur</mat-label>
          <input matInput type="number" formControlName="width">
          <mat-icon matSuffix matTooltip="Largeur en pixels">help_outline</mat-icon>
        </mat-form-field>
        <mat-form-field style="flex: 1; min-width: 150px;">
          <mat-label>Hauteur</mat-label>
          <input type="number" matInput formControlName="height">
          <mat-icon matSuffix matTooltip="Hauteur en pixels">help_outline</mat-icon>
        </mat-form-field>
        <mat-form-field style="flex: 1; min-width: 150px;">
          <mat-label>Graine aléatoire</mat-label>
          <input type="number" matInput formControlName="seed">
          <button mat-icon-button matSuffix (click)="randomizeSeed()" matTooltip="Graine aléatoire">
            <mat-icon>casino</mat-icon>
          </button>
        </mat-form-field>
      </div>
    </mat-expansion-panel>

    <!-- 2. PRESETS & RANDOMIZATION -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          <mat-icon>tune</mat-icon>
          &nbsp; Préconfigurations & Randomisation
        </mat-panel-title>
      </mat-expansion-panel-header>

      <!-- Presets -->
      <h4 style="margin-top: 0;">Préconfigurations</h4>
      @if (galaxyForm.controls['galaxyType'].value === 'SPIRAL') {
        <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 20px;">
          <button mat-raised-button (click)="loadPreset('CLASSIC')">Classic</button>
          <button mat-raised-button (click)="loadPreset('BARRED')">Barred</button>
          <button mat-raised-button (click)="loadPreset('MULTI_ARM')">Multi-Arm</button>
          <button mat-raised-button (click)="loadPreset('SPIRAL_GRAND_DESIGN')">Grand Design</button>
          <button mat-raised-button (click)="loadPreset('SPIRAL_FLOCCULENT')">Flocculent</button>
          <button mat-raised-button (click)="loadPreset('SPIRAL_TIGHTLY_WOUND')">Tightly Wound</button>
        </div>
      }
      @if (galaxyForm.controls['galaxyType'].value === 'VORONOI_CLUSTER') {
        <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 20px;">
          <button mat-raised-button (click)="loadPreset('VORONOI_DEFAULT')">Default</button>
          <button mat-raised-button (click)="loadPreset('VORONOI_DENSE')">Dense</button>
          <button mat-raised-button (click)="loadPreset('VORONOI_SPARSE')">Sparse</button>
          <button mat-raised-button (click)="loadPreset('VORONOI_GLOBULAR')">Globular</button>
        </div>
      }
      @if (galaxyForm.controls['galaxyType'].value === 'ELLIPTICAL') {
        <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 20px;">
          <button mat-raised-button (click)="loadPreset('ELLIPTICAL_DEFAULT')">E3 Classic</button>
          <button mat-raised-button (click)="loadPreset('ELLIPTICAL_ROUND')">E0 Round</button>
          <button mat-raised-button (click)="loadPreset('ELLIPTICAL_FLAT')">E6 Flat</button>
          <button mat-raised-button (click)="loadPreset('ELLIPTICAL_GIANT')">Giant</button>
        </div>
      }
      @if (galaxyForm.controls['galaxyType'].value === 'RING') {
        <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 20px;">
          <button mat-raised-button (click)="loadPreset('RING_DEFAULT')">Classic</button>
          <button mat-raised-button (click)="loadPreset('RING_WIDE')">Wide</button>
          <button mat-raised-button (click)="loadPreset('RING_BRIGHT')">Bright</button>
          <button mat-raised-button (click)="loadPreset('RING_THIN')">Thin</button>
          <button mat-raised-button (click)="loadPreset('RING_DOUBLE')">Double</button>
        </div>
      }
      @if (galaxyForm.controls['galaxyType'].value === 'IRREGULAR') {
        <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 20px;">
          <button mat-raised-button (click)="loadPreset('IRREGULAR_DEFAULT')">SMC Default</button>
          <button mat-raised-button (click)="loadPreset('IRREGULAR_CHAOTIC')">Chaotic</button>
          <button mat-raised-button (click)="loadPreset('IRREGULAR_DWARF')">Dwarf</button>
        </div>
      }

      <!-- Randomize -->
      <h4>Randomiser les paramètres</h4>
      <div style="display: flex; flex-wrap: wrap; gap: 8px;">
        <button mat-raised-button color="primary" (click)="randomizeAll()" matTooltip="Tout randomiser">
          <mat-icon>shuffle</mat-icon> Tout
        </button>
        <button mat-stroked-button (click)="randomizeSeed()">Graine</button>
        <button mat-stroked-button (click)="randomizeCore()">Noyau</button>
        <button mat-stroked-button (click)="randomizeNoise()">Bruit</button>
        <button mat-stroked-button (click)="randomizeWarping()">Warping</button>
        <button mat-stroked-button (click)="randomizeStarField()">Étoiles</button>
        @if (galaxyForm.controls['galaxyType'].value === 'SPIRAL') {
          <button mat-stroked-button (click)="randomizeSpiral()">Spirale</button>
        }
        @if (galaxyForm.controls['galaxyType'].value === 'VORONOI_CLUSTER') {
          <button mat-stroked-button (click)="randomizeVoronoi()">Clusters</button>
        }
        @if (galaxyForm.controls['galaxyType'].value === 'ELLIPTICAL') {
          <button mat-stroked-button (click)="randomizeElliptical()">Forme</button>
        }
        @if (galaxyForm.controls['galaxyType'].value === 'RING') {
          <button mat-stroked-button (click)="randomizeRing()">Anneau</button>
        }
        @if (galaxyForm.controls['galaxyType'].value === 'IRREGULAR') {
          <button mat-stroked-button (click)="randomizeIrregular()">Structure</button>
        }
      </div>
    </mat-expansion-panel>

    <!-- 3. TYPE-SPECIFIC STRUCTURE -->
    @if (galaxyForm.controls['galaxyType'].value === 'SPIRAL') {
      <mat-expansion-panel formGroupName="spiralParameters">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>cyclone</mat-icon>
            &nbsp; Structure spirale
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
          <mat-form-field>
            <mat-label>Nombre de bras</mat-label>
            <input type="number" matInput formControlName="numberOfArms" min="1" max="6">
            <mat-icon matSuffix matTooltip="Nombre de bras spiraux (1-6)">help_outline</mat-icon>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Largeur des bras</mat-label>
            <input type="number" matInput formControlName="armWidth" step="10" min="10">
            <mat-icon matSuffix matTooltip="Largeur des bras spiraux">help_outline</mat-icon>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Rotation des bras</mat-label>
            <input type="number" matInput formControlName="armRotation" step="0.5" min="1">
            <mat-icon matSuffix matTooltip="Enroulement de la spirale">help_outline</mat-icon>
          </mat-form-field>
        </div>
      </mat-expansion-panel>
    }

    @if (galaxyForm.controls['galaxyType'].value === 'VORONOI_CLUSTER') {
      <mat-expansion-panel formGroupName="voronoiParameters">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>grain</mat-icon>
            &nbsp; Structure en clusters
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
          <mat-form-field>
            <mat-label>Nombre de clusters</mat-label>
            <input type="number" matInput formControlName="clusterCount" min="5" max="500">
            <mat-icon matSuffix matTooltip="Nombre de clusters d'étoiles (5-500)">help_outline</mat-icon>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Taille des clusters</mat-label>
            <input type="number" matInput formControlName="clusterSize" step="5" min="10">
            <mat-icon matSuffix matTooltip="Taille de chaque cluster">help_outline</mat-icon>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Concentration</mat-label>
            <input type="number" matInput formControlName="clusterConcentration" step="0.05" min="0" max="1">
            <mat-icon matSuffix matTooltip="Concentration vers le centre (0=uniforme, 1=concentré)">help_outline</mat-icon>
          </mat-form-field>
        </div>
      </mat-expansion-panel>
    }

    @if (galaxyForm.controls['galaxyType'].value === 'ELLIPTICAL') {
      <mat-expansion-panel formGroupName="ellipticalParameters">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>circle</mat-icon>
            &nbsp; Structure elliptique
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
          <mat-form-field>
            <mat-label>Indice de Sersic</mat-label>
            <input type="number" matInput formControlName="sersicIndex" step="0.5" min="0.5" max="10">
            <mat-icon matSuffix matTooltip="Profil de Sersic (1=exponentiel, 4=de Vaucouleurs)">help_outline</mat-icon>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Rapport d'axes</mat-label>
            <input type="number" matInput formControlName="axisRatio" step="0.05" min="0.1" max="1">
            <mat-icon matSuffix matTooltip="Ellipticité b/a (1=cercle, 0.1=très plat)">help_outline</mat-icon>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Angle d'orientation</mat-label>
            <input type="number" matInput formControlName="orientationAngle" step="5" min="0" max="360">
            <mat-icon matSuffix matTooltip="Angle de rotation en degrés (0-360)">help_outline</mat-icon>
          </mat-form-field>
        </div>
      </mat-expansion-panel>
    }

    @if (galaxyForm.controls['galaxyType'].value === 'RING') {
      <mat-expansion-panel formGroupName="ringParameters">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>album</mat-icon>
            &nbsp; Structure en anneau
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
          <mat-form-field>
            <mat-label>Rayon de l'anneau</mat-label>
            <input type="number" matInput formControlName="ringRadius" step="50" min="50">
            <mat-icon matSuffix matTooltip="Distance du centre à l'anneau (pixels)">help_outline</mat-icon>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Largeur de l'anneau</mat-label>
            <input type="number" matInput formControlName="ringWidth" step="10" min="10">
            <mat-icon matSuffix matTooltip="Épaisseur de l'anneau (pixels)">help_outline</mat-icon>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Intensité de l'anneau</mat-label>
            <input type="number" matInput formControlName="ringIntensity" step="0.1" min="0.1" max="2">
            <mat-icon matSuffix matTooltip="Luminosité de l'anneau (0.1-2.0)">help_outline</mat-icon>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Ratio noyau/anneau</mat-label>
            <input type="number" matInput formControlName="coreToRingRatio" step="0.05" min="0" max="1">
            <mat-icon matSuffix matTooltip="Luminosité du noyau relative à l'anneau (0-1)">help_outline</mat-icon>
          </mat-form-field>
        </div>
      </mat-expansion-panel>
    }

    @if (galaxyForm.controls['galaxyType'].value === 'IRREGULAR') {
      <mat-expansion-panel formGroupName="irregularParameters">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>scatter_plot</mat-icon>
            &nbsp; Structure irrégulière
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
          <mat-form-field>
            <mat-label>Irrégularité</mat-label>
            <input type="number" matInput formControlName="irregularity" step="0.05" min="0" max="1">
            <mat-icon matSuffix matTooltip="Degré de chaos (0=lisse, 1=très chaotique)">help_outline</mat-icon>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Nombre d'amas</mat-label>
            <input type="number" matInput formControlName="irregularClumpCount" step="1" min="5" max="50">
            <mat-icon matSuffix matTooltip="Nombre d'amas de formation d'étoiles (5-50)">help_outline</mat-icon>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Taille des amas</mat-label>
            <input type="number" matInput formControlName="irregularClumpSize" step="10" min="20">
            <mat-icon matSuffix matTooltip="Taille de chaque amas en pixels (min 20)">help_outline</mat-icon>
          </mat-form-field>
        </div>
      </mat-expansion-panel>
    }

    <!-- 4. CORE PARAMETERS -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          <mat-icon>brightness_high</mat-icon>
          &nbsp; Noyau et rayon
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div style="display: flex; gap: 10px; flex-wrap: wrap;">
        <mat-form-field style="flex: 1;">
          <mat-label>Taille du noyau</mat-label>
          <input type="number" matInput formControlName="coreSize" step="0.01" min="0.01" max="0.3">
          <mat-icon matSuffix matTooltip="Taille du noyau lumineux (0.01-0.3)">help_outline</mat-icon>
        </mat-form-field>
        <mat-form-field style="flex: 1;">
          <mat-label>Rayon de la galaxie</mat-label>
          <input type="number" matInput formControlName="galaxyRadius" step="100" min="500">
          <mat-icon matSuffix matTooltip="Rayon total de la galaxie en pixels">help_outline</mat-icon>
        </mat-form-field>
      </div>
    </mat-expansion-panel>

    <!-- 5. NOISE TEXTURE -->
    <mat-expansion-panel formGroupName="noiseParameters">
      <mat-expansion-panel-header>
        <mat-panel-title>
          <mat-icon>texture</mat-icon>
          &nbsp; Texture de bruit
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div style="display: flex; gap: 10px; flex-wrap: wrap;">
        <mat-form-field>
          <mat-label>Octaves</mat-label>
          <input type="number" matInput formControlName="octaves" min="1" max="10">
          <mat-icon matSuffix matTooltip="Couches de détails (plus = plus de détails)">help_outline</mat-icon>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Persistence</mat-label>
          <input type="number" matInput formControlName="persistence" step="0.05" min="0" max="1">
          <mat-icon matSuffix matTooltip="Contribution des détails (0-1)">help_outline</mat-icon>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Lacunarity</mat-label>
          <input type="number" matInput formControlName="lacunarity" step="0.1" min="1">
          <mat-icon matSuffix matTooltip="Multiplicateur de fréquence">help_outline</mat-icon>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Échelle</mat-label>
          <input type="number" matInput formControlName="scale" step="10" min="50">
          <mat-icon matSuffix matTooltip="Échelle de la texture">help_outline</mat-icon>
        </mat-form-field>
      </div>
    </mat-expansion-panel>

    <!-- 6. VISUAL EFFECTS -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          <mat-icon>auto_awesome</mat-icon>
          &nbsp; Effets visuels avancés
        </mat-panel-title>
      </mat-expansion-panel-header>

      <!-- Domain Warping -->
      <h4 style="margin-top: 0;">Déformation spatiale</h4>
      <mat-form-field style="width: 100%; margin-bottom: 20px;">
        <mat-label>Force de warping</mat-label>
        <input type="number" matInput formControlName="warpStrength" step="10" min="0" max="300">
        <mat-icon matSuffix matTooltip="Déformation spatiale créant des filaments organiques (0=aucun, 50-200=filamentaire)">help_outline</mat-icon>
      </mat-form-field>

      <!-- Multi-Layer Noise -->
      <h4 formGroupName="multiLayerNoiseParameters">Bruit multi-couches</h4>
      <div formGroupName="multiLayerNoiseParameters" style="margin-bottom: 20px;">
        <mat-slide-toggle formControlName="enabled" style="margin-bottom: 16px;">
          Activer le bruit multi-échelles (Macro + Meso + Micro)
        </mat-slide-toggle>

        @if (galaxyForm.get('multiLayerNoiseParameters')?.get('enabled')?.value) {
          <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 16px;">
            <mat-form-field style="min-width: 150px;">
              <mat-label>Échelle Macro</mat-label>
              <input type="number" matInput formControlName="macroLayerScale" step="0.1" min="0.1" max="5">
              <mat-icon matSuffix matTooltip="Structures larges (défaut 0.3)">help_outline</mat-icon>
            </mat-form-field>
            <mat-form-field style="min-width: 150px;">
              <mat-label>Poids Macro</mat-label>
              <input type="number" matInput formControlName="macroLayerWeight" step="0.05" min="0" max="1">
              <mat-icon matSuffix matTooltip="Poids de la couche macro (défaut 0.5)">help_outline</mat-icon>
            </mat-form-field>
            <mat-form-field style="min-width: 150px;">
              <mat-label>Échelle Meso</mat-label>
              <input type="number" matInput formControlName="mesoLayerScale" step="0.1" min="0.1" max="5">
              <mat-icon matSuffix matTooltip="Détails moyens (défaut 1.0)">help_outline</mat-icon>
            </mat-form-field>
            <mat-form-field style="min-width: 150px;">
              <mat-label>Poids Meso</mat-label>
              <input type="number" matInput formControlName="mesoLayerWeight" step="0.05" min="0" max="1">
              <mat-icon matSuffix matTooltip="Poids de la couche meso (défaut 0.35)">help_outline</mat-icon>
            </mat-form-field>
            <mat-form-field style="min-width: 150px;">
              <mat-label>Échelle Micro</mat-label>
              <input type="number" matInput formControlName="microLayerScale" step="0.1" min="0.1" max="10">
              <mat-icon matSuffix matTooltip="Grain fin (défaut 3.0)">help_outline</mat-icon>
            </mat-form-field>
            <mat-form-field style="min-width: 150px;">
              <mat-label>Poids Micro</mat-label>
              <input type="number" matInput formControlName="microLayerWeight" step="0.05" min="0" max="1">
              <mat-icon matSuffix matTooltip="Poids de la couche micro (défaut 0.15)">help_outline</mat-icon>
            </mat-form-field>
          </div>
        }
      </div>

      <!-- Star Field -->
      <h4 formGroupName="starFieldParameters">Champ d'étoiles</h4>
      <div formGroupName="starFieldParameters" style="display: flex; gap: 10px; flex-wrap: wrap;">
        <mat-form-field style="min-width: 180px;">
          <mat-label>Densité d'étoiles</mat-label>
          <input type="number" matInput formControlName="density" step="0.0001" min="0" max="0.01">
          <mat-icon matSuffix matTooltip="Densité d'étoiles (0=aucune, 0.001=typique, 0.01=max)">help_outline</mat-icon>
        </mat-form-field>
        <mat-form-field style="min-width: 150px;">
          <mat-label>Taille max des étoiles</mat-label>
          <input type="number" matInput formControlName="maxStarSize" min="1" max="10">
          <mat-icon matSuffix matTooltip="Taille max des étoiles en pixels (1-10)">help_outline</mat-icon>
        </mat-form-field>
        <mat-form-field style="min-width: 180px;">
          <mat-label>Pointes de diffraction</mat-label>
          <mat-select formControlName="diffractionSpikes">
            <mat-option [value]="false">Désactivées</mat-option>
            <mat-option [value]="true">Activées</mat-option>
          </mat-select>
          <mat-icon matSuffix matTooltip="Ajouter des pointes aux étoiles brillantes">help_outline</mat-icon>
        </mat-form-field>
        <mat-form-field style="min-width: 150px;">
          <mat-label>Nombre de pointes</mat-label>
          <input type="number" matInput formControlName="spikeCount" min="4" max="8" step="2">
          <mat-icon matSuffix matTooltip="Nombre de branches (4, 6, 8)">help_outline</mat-icon>
        </mat-form-field>
      </div>
    </mat-expansion-panel>

    <!-- 7. COLORS -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          <mat-icon>palette</mat-icon>
          &nbsp; Couleurs
        </mat-panel-title>
      </mat-expansion-panel-header>

      <!-- Color Palette -->
      <div formGroupName="colorParameters">
        <mat-form-field style="width: 100%; margin-bottom: 20px;">
          <mat-label>Palette de couleurs</mat-label>
          <mat-select formControlName="colorPalette">
            <mat-option value="CLASSIC">Classic (Bleu/Blanc)</mat-option>
            <mat-option value="NEBULA">Nebula (Violet/Cyan)</mat-option>
            <mat-option value="WARM">Warm (Rouge/Orange/Jaune)</mat-option>
            <mat-option value="COLD">Cold (Bleu/Cyan)</mat-option>
            <mat-option value="INFRARED">Infrared (Rouge/Jaune)</mat-option>
            <mat-option value="EMERALD">Emerald (Vert/Cyan)</mat-option>
          </mat-select>
          <mat-icon matSuffix matTooltip="Palette de couleurs pour le rendu">help_outline</mat-icon>
        </mat-form-field>

        <!-- Legacy Colors -->
        <h4>Couleurs personnalisées (Legacy)</h4>
        <p style="color: #666; font-size: 0.9em; margin-bottom: 16px;">
          Ces paramètres sont remplacés par la palette ci-dessus
        </p>
        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
          <mat-form-field>
            <mat-label>Fond spatial</mat-label>
            <input type="color" matInput formControlName="spaceBackgroundColor">
            <mat-icon matSuffix matTooltip="Couleur de fond de l'espace">help_outline</mat-icon>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Couleur du noyau</mat-label>
            <input type="color" matInput formControlName="coreColor">
            <mat-icon matSuffix matTooltip="Couleur du centre lumineux">help_outline</mat-icon>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Couleur des bras</mat-label>
            <input type="color" matInput formControlName="armColor">
            <mat-icon matSuffix matTooltip="Couleur des bras spiraux">help_outline</mat-icon>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Couleur extérieure</mat-label>
            <input type="color" matInput formControlName="outerColor">
            <mat-icon matSuffix matTooltip="Couleur des régions externes">help_outline</mat-icon>
          </mat-form-field>
        </div>
      </div>
    </mat-expansion-panel>

  </mat-accordion>
</form>
